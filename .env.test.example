# Integration Test Environment Variables

## Testcontainers (Automatic)
When running `pnpm test:integration`, Testcontainers automatically:
- Starts MongoDB on a random available port
- Starts Redis on a random available port
- Sets these environment variables:
  - `MONGODB_URI` - Dynamic MongoDB connection string
  - `REDIS_URL` - Dynamic Redis connection string

## No Manual Configuration Required
You do NOT need to set these variables manually. Testcontainers handles everything automatically.

## Docker Requirement
Make sure Docker Desktop is running before executing integration tests:
```bash
# Check if Docker is running
docker ps

# Run integration tests
pnpm test:integration
```

## CI/CD (GitHub Actions)
The same tests work in CI without any changes. GitHub Actions provides Docker automatically.

## Troubleshooting

### "Cannot connect to Docker daemon"
**Solution:** Start Docker Desktop

### "Port already in use"
**Solution:** Testcontainers uses random ports, so this shouldn't happen. If it does, restart Docker.

### Tests timeout
**Solution:** First run downloads Docker images (~500MB). Subsequent runs are fast.
